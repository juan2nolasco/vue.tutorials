<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <title>Document</title>
</head>
<body>
    <iframe id="prueba"></iframe>
    <script>
        /*var array=[];
        for(i=0; i<10;i++){
            var userDataEntry={};
            userDataEntry.id= i;
            userDataEntry.name= "name"+i;
            array.push(userDataEntry);
        }
        console.log("se muestra el array");
        console.log(array);*/
        var count=0;
        var array=[];
        $(document).ready(function(){
            $("#prueba").contents().find("body").on('click', function(event) {
                console.log("se dio clic en el iframe");
                var userDataEntry={};
                var model ={
                    "prop1": " esta es la prop"+count,
                    "prop2": "esta es la prop"+count
                }
                userDataEntry.id=count;
                userDataEntry.model= model;
                array.push(userDataEntry);
                count++;
                if(count==5){
                    viewArray();
                }
             });
        });
        //https://stackoverflow.com/questions/19641918/javascript-push-replaces-all-the-stored-values-with-the-values-of-last-objec
        function viewArray(){
            console.log(array);
        }
            
    
       // console.log(  document.getElementById("prueba"));

    </script>
</body>
</html>